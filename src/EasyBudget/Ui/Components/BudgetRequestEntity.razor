@using EasyBudget.Presentation.Enums
<h3>BudgetRequestEntity</h3>

@if (true)
{
    <div>
        <div>
            @{
                if (ViewModel.BudgetRequestViewModel.IsEditable && !ViewModel.BudgetRequestViewModel.InEditMode)
                {
                    <button>Редагувати</button>
                }
                else
                {
                    <button disabled="disabled">Редагувати</button>
                }
                if (ViewModel.BudgetRequestViewModel.ApproveAble)
                {
                    <button>Затвердити</button>
                }
                else
                {
                    <button disabled="disabled">Затвердити</button>
                }

            }
        </div>
        <div>
            @{
                <label>Назва: </label>
                if (ViewModel.BudgetRequestViewModel.NameField == FieldsStates.NotEditable)
                {
                    <label>@ViewModel.BudgetRequestViewModel.BudgetRequest.Name</label>
                }
                else
                {
                    <input @bind="ViewModel.BudgetRequestViewModel.BudgetRequest.Name">
                }

            }
        </div>
        <div>
            <div>
                <label>Ініціатор: </label>
                <label>@ViewModel.BudgetRequestViewModel.BudgetRequest.Requester.Name</label>
            </div>
            <div>
                <label>Затверджувач: </label>
                <label>@ViewModel.BudgetRequestViewModel.BudgetRequest.Approver.Name</label>
            </div>
            <div>
                <label>Виконавець: </label>
                <label>@ViewModel.BudgetRequestViewModel.BudgetRequest.Executor.Name</label>
            </div>
            <div>
                <label>Стан: </label>
                <label>@ViewModel.BudgetRequestViewModel.BudgetRequest.State.ToString()</label>
            </div>
        </div>
        <div>
            <div>
                <label>Орієнтовна ціна:</label>
                @if (ViewModel.BudgetRequestViewModel.EstimatedPriceField == FieldsStates.NotEditable)
                {
                    <label>@ViewModel.BudgetRequestViewModel.BudgetRequest.EstimatedPrice</label>
                }
                else
                {
                    <input @bind="ViewModel.BudgetRequestViewModel.BudgetRequest.EstimatedPrice"/>
                }
            </div>
            <div>
                <label>Точна ціна: </label>
                @if (ViewModel.BudgetRequestViewModel.RealPriceField == FieldsStates.NotEditable)
                {
                    <label>@ViewModel.BudgetRequestViewModel.BudgetRequest.RealPrice</label>
                }
                else
                {
                    <input @bind="ViewModel.BudgetRequestViewModel.BudgetRequest.RealPrice"/>
                }
            </div>
            <div>
                <label>Відділ:</label>
                <label>@ViewModel.BudgetRequestViewModel.BudgetRequest.Department.Name</label>
            </div>
            <div>
                <label>>Юніт:</label>
                <label>@ViewModel.BudgetRequestViewModel.BudgetRequest.Unit.Name</label>
            </div>
        </div>
        <div>
            <div>
                <label>Дата запиту: </label>
                <label>@ViewModel.BudgetRequestViewModel.BudgetRequest.DateRequested</label>
            </div>
            <div>
                <label>Запрошений дедлайн: </label>
                @if (ViewModel.BudgetRequestViewModel.DateRequestedDeadlineField == FieldsStates.NotEditable)
                {
                    <label>@ViewModel.BudgetRequestViewModel.BudgetRequest.DateRequestedDeadline</label>
                }
                else
                {
                    <input type="date" @bind="ViewModel.BudgetRequestViewModel.BudgetRequest.DateRequestedDeadline"/>
                }
            </div>
            <div>
                <label>Дата затвердження директором: </label>
                <label>@ViewModel.BudgetRequestViewModel.BudgetRequest.DateDirectorApprove</label>
            </div>
            <div>
                <label>Дата початку виконання: </label>
                <label>@ViewModel.BudgetRequestViewModel.BudgetRequest.DateStartExecution</label>
            </div>
            <div>
                <label>Встановлений дедлайн: </label>
                @if (ViewModel.BudgetRequestViewModel.DateDeadlineExecutionField == FieldsStates.NotEditable)
                {
                    <label>@ViewModel.BudgetRequestViewModel.BudgetRequest.DateDeadlineExecution</label>
                }
                else
                {
                    <input type="date" @bind="ViewModel.BudgetRequestViewModel.BudgetRequest.DateDeadlineExecution"/>
                }
            </div>
            <div>
                <label>Дата завершення виконання: </label>
                <label>@ViewModel.BudgetRequestViewModel.BudgetRequest.DateEndExecution</label>
            </div>
        </div>
        <div>
            <button>Скасувати зміни</button>
            <button>Зберегти зміни</button>
        </div>

    </div>
}
else
{
    
}



@code {

    [Parameter]
    public IBudgetRequestListViewModel ViewModel { get; set; }

}
